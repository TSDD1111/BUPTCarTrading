<template>
  <div>
    <button class="salecar" @click="dialogTableVisible = true">我要卖车</button>
    <el-dialog title="我要卖车" v-model="dialogTableVisible">
      <el-form :model="form">
        <el-form-item label="品牌" :label-width="formLabelWidth">
          <el-select v-model="form.brand" placeholder="请选择品牌">
            <el-option label="大众" value="大众"></el-option>
          </el-select>
        </el-form-item>
        <el-form-item label="名称" :label-width="formLabelWidth">
          <el-select v-model="form.name" placeholder="请选择车辆名称">
            <el-option label="途锐 V6" value="途锐 V6"></el-option>
          </el-select>
        </el-form-item>
        <el-form-item label="行驶里程" :label-width="formLabelWidth" prop="kilometer" :rules="[
      { required: true, message: '年龄不能为空'},
      { type: 'number', message: '年龄必须为数字值'}
    ]">
          <el-input type="kilometer" v-model.number="form.kilometer" autocomplete="off"></el-input>
        </el-form-item>
        <el-form-item label="燃油类型" :label-width="formLabelWidth">
          <el-select v-model="form.fuelType" placeholder="请选择燃油类型">
            <el-option label="柴油" value="1"></el-option>
            <el-option label="汽油" value="0"></el-option>
          </el-select>
        </el-form-item>
        <el-form-item label="变速箱" :label-width="formLabelWidth">
          <el-select v-model="form.gearbox" placeholder="请选择变速箱类型">
            <el-option label="自动" value="1"></el-option>
            <el-option label="手动" value="0"></el-option>
          </el-select>
        </el-form-item>
        <el-form-item label="是否有损坏" :label-width="formLabelWidth">
          <el-select v-model="form.notRepairedDamage" placeholder="请选择">
            <el-option label="是" value="0"></el-option>
            <el-option label="否" value="1"></el-option>
          </el-select>
        </el-form-item>
        <el-form-item  :label-width="formLabelWidth">
          <el-button type="primary" @click="submitForm(form)">提交</el-button>
        </el-form-item>
      </el-form>
    </el-dialog>
  </div>
</template>

<script>
import {reactive, ref} from "vue";
import {isNumber} from "element-plus/es/utils/util";

export default {
  name: "salecar",
  setup() {
    //reactive参数必须是对象(json/arr),不能用reactive
    let dialogTableVisible = ref(false)
    let formLabelWidth =  '120px'
    let form = reactive({
      name:"奔驰S500",
      brand: "car",
      bodyType: 0,
      fuelType: 0,
      gearbox:"自动",
      power:0,
      kilometer:1000,
      notRepairedDamage:0,
      regionCode:0,
      offerType:0,
      creatDate:0,
      prePrice:10000,
      sellerID:0,
      carDescribe:0
    })
    return {
        dialogTableVisible,
        form,
        formLabelWidth
    }
  },
  methods:{
    submitForm(form){
      if(isNumber(form.kilometer)) {
        console.log(form.kilometer)
      }
    }
  }
}
</script>

<style scoped>
.salecar{
  background-color: #f44336;
  border: #f44336;
  font-size: 24px;
  padding: 10px 32px;
  color: white;
  position: relative;
  left: 700px;
  top: 200px;
}
.salecar:hover{
  background-color: crimson;
}
</style>
